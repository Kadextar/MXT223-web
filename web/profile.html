<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - –ú–•–¢-223</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/academics.css?v=48">
    <link rel="stylesheet" href="/static/profile.css?v=48">
    <meta name="theme-color" content="#0f172a">
    <style>
        /* Profile Specific Tab Tweaks */
        .academics-tabs {
            top: 0;
            position: sticky;
            z-index: 90;
            margin-bottom: 20px;
        }

        .hidden {
            display: none !important;
        }

        /* Toggle Switch Styles */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.1);
            transition: .4s;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
        }

        input:checked+.slider {
            background-color: var(--primary);
        }

        input:checked+.slider:before {
            transform: translateX(22px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* Light Mode Overrides for Slider */
        body.light-mode .slider {
            background-color: #cbd5e1;
            border: none;
        }

        body.light-mode input:checked+.slider {
            background-color: #3b82f6;
        }
    </style>
</head>

<body>
    <div class="background-globes">
        <div class="globe globe-1"></div>
        <div class="globe globe-2"></div>
        <div class="globe globe-3"></div>
    </div>

    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <h1>–ü—Ä–æ—Ñ–∏–ª—å</h1>
                <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º</p>
            </div>
        </header>

        <!-- New Profile Tabs -->
        <div class="academics-tabs">
            <div class="tabs-pill">
                <button class="tab-btn active" onclick="switchTab('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button class="tab-btn" onclick="switchTab('security')">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
                <button class="tab-btn" onclick="switchTab('settings')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
        </div>

        <main class="profile-container">

            <!-- VIEW: PROFILE -->
            <div id="profile-view" class="tab-content">
                <!-- Student Info Card -->
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar-container">
                            <img src="/static/avatars/1.png" alt="Avatar" id="current-avatar"
                                class="profile-avatar-img">
                            <button class="edit-avatar-btn" id="edit-avatar-btn">üñäÔ∏è</button>
                        </div>
                        <div class="profile-info">
                            <h2 id="student-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                            <p class="student-id" id="student-id">ID: ...</p>
                            <div class="profile-stats"
                                style="margin-top: 10px; font-size: 0.9em; color: var(--text-muted); display: flex; gap: 15px;">
                                <span>üóì –° –Ω–∞–º–∏ —Å: <b id="join-date">-</b></span>
                                <span>‚≠ê –û—Ç–∑—ã–≤–æ–≤: <b id="reviews-count">0</b></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: SECURITY -->
            <div id="security-view" class="tab-content hidden">
                <!-- Password Change Card -->
                <div class="profile-card">
                    <h3>üîê –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h3>
                    <form id="password-form">
                        <div class="form-group">
                            <label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                            <input type="password" id="old-password" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å" required
                                autocomplete="current-password">
                        </div>

                        <div class="form-group">
                            <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                            <input type="password" id="new-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" required
                                autocomplete="new-password">
                            <small>–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</small>
                        </div>

                        <div class="form-group">
                            <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                            <input type="password" id="confirm-password" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" required
                                autocomplete="new-password">
                        </div>

                        <button type="submit" class="submit-btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                    </form>

                    <div id="message" class="message hidden"></div>
                </div>
            </div>

            <!-- VIEW: SETTINGS -->
            <div id="settings-view" class="tab-content hidden">

                <!-- Appearance Card -->
                <div class="profile-card">
                    <h3>üé® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
                    <div class="setting-row"
                        style="display: flex; justify-content: space-between; align-items: center; margin-top: 16px;">
                        <div>
                            <strong style="color: var(--text-main);">–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</strong>
                            <p class="text-muted" style="font-size: 0.85rem; margin: 4px 0 0;">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ "Light
                                Frost"</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>

                <!-- Notifications Card -->
                <div class="profile-card" style="margin-top: 20px;">
                    <h3>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                    <p class="text-muted" style="margin-bottom: 16px;">–ü–æ–ª—É—á–∞–π—Ç–µ –≤–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ
                        –ø–∞—Ä–∞—Ö.
                    </p>
                    <button class="submit-btn" id="enable-notifications-btn" style="background: var(--secondary);">
                        –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    </button>
                    <div id="push-message" class="message hidden" style="margin-top: 10px;"></div>
                </div>

                <!-- Actions Card -->
                <div class="profile-card" style="margin-top: 20px;">
                    <h3>‚öôÔ∏è –ê–∫–∫–∞—É–Ω—Ç</h3>
                    <button class="logout-btn" id="logout-btn">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                </div>
            </div>

            <!-- Avatar Selection Modal (Global) -->
            <div id="avatar-modal" class="modal hidden">
                <div class="modal-overlay"></div>
                <div class="modal-content">
                    <h2 style="color: var(--text-main); margin-bottom: 20px;">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä</h2>
                    <div class="avatars-grid">
                        <!-- 9 avatars -->
                        <img src="/static/avatars/1.png" class="avatar-option" data-id="1.png">
                        <img src="/static/avatars/2.png" class="avatar-option" data-id="2.png">
                        <img src="/static/avatars/3.png" class="avatar-option" data-id="3.png">
                        <img src="/static/avatars/4.png" class="avatar-option" data-id="4.png">
                        <img src="/static/avatars/5.png" class="avatar-option" data-id="5.png">
                        <img src="/static/avatars/6.png" class="avatar-option" data-id="6.png">
                        <img src="/static/avatars/7.png" class="avatar-option" data-id="7.png">
                        <img src="/static/avatars/8.png" class="avatar-option" data-id="8.png">
                        <img src="/static/avatars/9.png" class="avatar-option" data-id="9.png">
                    </div>
                    <button class="back-btn" id="close-avatar-modal"
                        style="width: 100%; margin-top: 20px;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>

        </main>

        <br><br><br> <!-- Spacer -->

        <nav class="profile-nav">
            <a href="/" class="nav-link" title="–ú–µ–Ω—é"><i class="fas fa-th-large"></i></a>
            <a href="/academics.html" class="nav-link" title="–ü—Ä–µ–¥–º–µ—Ç—ã"><i class="fas fa-book"></i></a>
            <a href="/ratings.html" class="nav-link" title="–†–µ–π—Ç–∏–Ω–≥"><i class="fas fa-star"></i></a>
            <a href="/profile.html" class="nav-link active" title="–ü—Ä–æ—Ñ–∏–ª—å"><i class="fas fa-user"></i></a>
        </nav>
    </div>

    <script src="/static/profile.js"></script>
</body>

</html>