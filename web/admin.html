<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - –ú–•–¢-223</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    <style>
        .admin-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 8px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .data-table th,
        .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .data-table th {
            background: rgba(255, 255, 255, 0.02);
            font-weight: 600;
            color: var(--text-main);
        }

        .action-btn {
            padding: 5px 10px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
            margin-right: 5px;
        }

        .btn-delete {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .btn-add {
            background: var(--primary);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin-bottom: 15px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        /* Modal specific overrides */
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: var(--text-muted);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-main);
        }
    </style>
</head>

<body>
    <div class="background-globes">
        <div class="globe globe-1"></div>
        <div class="globe globe-2"></div>
    </div>

    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <a href="/" class="back-link">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <h1>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            </div>
        </header>

        <main class="main-content">
            <div class="admin-controls">
                <button class="tab-btn active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</button>
                <button class="tab-btn" data-tab="schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                <button class="tab-btn" data-tab="teachers">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</button>
                <button class="tab-btn" data-tab="announcements">–û–±—ä—è–≤–ª–µ–Ω–∏—è</button>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard" class="admin-section active">
                <style>
                    .stats-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 20px;
                        margin-bottom: 30px;
                    }

                    .stat-card {
                        background: var(--card-bg);
                        padding: 20px;
                        border-radius: 12px;
                        border: 1px solid rgba(255, 255, 255, 0.05);
                        display: flex;
                        flex-direction: column;
                        align-items: flex-start;
                    }

                    .stat-number {
                        font-size: 2.5rem;
                        font-weight: 700;
                        color: var(--primary);
                        margin: 10px 0;
                    }

                    .stat-label {
                        color: var(--text-muted);
                        font-size: 0.9rem;
                    }

                    .stat-icon {
                        font-size: 1.5rem;
                        color: var(--text-main);
                        margin-bottom: 5px;
                    }
                </style>

                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-icon">üë•</span>
                        <span class="stat-number" id="stat-students">-</span>
                        <span class="stat-label">–í—Å–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üë®‚Äçüè´</span>
                        <span class="stat-number" id="stat-teachers">-</span>
                        <span class="stat-label">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">‚≠ê</span>
                        <span class="stat-number" id="stat-ratings">-</span>
                        <span class="stat-label">–í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üîî</span>
                        <span class="stat-number" id="stat-subs">-</span>
                        <span class="stat-label">Push-–ø–æ–¥–ø–∏—Å–æ–∫</span>
                    </div>
                </div>
            </div>

            <!-- Schedule Section -->
            <div id="schedule" class="admin-section">
                <button class="btn-add" id="add-lesson-btn">+ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É</button>
                <div style="overflow-x: auto;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–î–µ–Ω—å</th>
                                <th>–ü–∞—Ä–∞</th>
                                <th>–ü—Ä–µ–¥–º–µ—Ç</th>
                                <th>–¢–∏–ø</th>
                                <th>–ê—É–¥.</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="schedule-table-body">
                            <!-- Rows loaded by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Teachers Section -->
            <div id="teachers" class="admin-section">
                <button class="btn-add" id="add-teacher-btn">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</button>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>–ò–º—è</th>
                            <th>–ü—Ä–µ–¥–º–µ—Ç</th>
                            <th>–†–µ–π—Ç–∏–Ω–≥</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="teachers-table-body">
                        <!-- Rows loaded by JS -->
                    </tbody>
                </table>
            </div>

            <!-- Announcements Section -->
            <div id="announcements" class="admin-section">
                <!-- Push Notification Card -->
                <div class="card" style="padding: 20px; margin-bottom: 20px;">
                    <h3>üîî Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                    <p style="color: var(--text-muted); margin-bottom: 15px;">–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Å–µ–º –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º
                        —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º.</p>
                    <div class="form-group">
                        <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                        <input type="text" id="push-title" placeholder="–ú–•–¢-223" value="–ú–•–¢-223">
                    </div>
                    <div class="form-group">
                        <label>–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                        <textarea id="push-message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è..." rows="3"
                            style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: white;"></textarea>
                    </div>
                    <div class="form-group">
                        <label>–°—Å—ã–ª–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                        <input type="text" id="push-url" placeholder="/" value="/">
                    </div>
                    <button class="btn-add" onclick="sendPushNotification()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å Push</button>
                    <div id="push-result" class="message hidden" style="margin-top: 10px;"></div>
                </div>

                <div class="card" style="padding: 20px;">
                    <h3>üì£ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–º</h3>
                    <p style="color: var(--text-muted); margin-bottom: 15px;">
                        –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –±–∞–Ω–Ω–µ—Ä.
                    </p>
                    <div class="form-group">
                        <input type="text" id="announcement-input"
                            placeholder="–¢–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ó–∞–≤—Ç—Ä–∞ –ø–∞—Ä—ã –æ—Ç–º–µ–Ω–µ–Ω—ã!)">
                    </div>
                    <button class="btn-add" id="save-announcement-btn" style="margin-top: 10px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        –æ–±—ä—è–≤–ª–µ–Ω–Ω–∏–µ</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Lesson Modal -->
    <div id="lesson-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2 style="color: var(--text-main); margin-bottom: 20px;">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É</h2>
            <form id="lesson-form">
                <div class="form-group">
                    <label>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏</label>
                    <select name="day" required>
                        <option value="monday">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                        <option value="tuesday">–í—Ç–æ—Ä–Ω–∏–∫</option>
                        <option value="wednesday">–°—Ä–µ–¥–∞</option>
                        <option value="thursday">–ß–µ—Ç–≤–µ—Ä–≥</option>
                        <option value="friday">–ü—è—Ç–Ω–∏—Ü–∞</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ù–æ–º–µ—Ä –ø–∞—Ä—ã</label>
                    <select name="pair" required>
                        <option value="1">1 –ø–∞—Ä–∞ (08:00)</option>
                        <option value="2">2 –ø–∞—Ä–∞ (09:30)</option>
                        <option value="3">3 –ø–∞—Ä–∞ (11:00)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ü—Ä–µ–¥–º–µ—Ç</label>
                    <input type="text" name="subject" required list="subjects-list">
                    <datalist id="subjects-list">
                        <!-- Populated by JS -->
                    </datalist>
                </div>
                <div class="form-group">
                    <label>–¢–∏–ø</label>
                    <select name="type" required>
                        <option value="lecture">–õ–µ–∫—Ü–∏—è</option>
                        <option value="seminar">–°–µ–º–∏–Ω–∞—Ä</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</label>
                    <input type="text" name="teacher" list="teachers-list">
                    <datalist id="teachers-list">
                        <!-- Populated by JS -->
                    </datalist>
                </div>
                <div class="form-group">
                    <label>–ê—É–¥–∏—Ç–æ—Ä–∏—è</label>
                    <input type="text" name="room" required>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="submit-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                    <button type="button" class="back-btn" id="close-lesson-modal">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <div id="teacher-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2 style="color: var(--text-main); margin-bottom: 20px;">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</h2>
            <form id="teacher-form">
                <div class="form-group">
                    <label>–§–ò–û –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" name="name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
                </div>
                <div class="form-group">
                    <label>–ü—Ä–µ–¥–º–µ—Ç (–æ—Å–Ω–æ–≤–Ω–æ–π)</label>
                    <input type="text" name="subject" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="submit-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                    <button type="button" class="back-btn" id="close-teacher-modal">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="/static/admin.js"></script>
</body>

</html>